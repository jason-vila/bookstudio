---
import DashboardLayout from '@layouts/DashboardLayout.astro'
import DataTableCard from '@components/ui/DataTableCard.astro'
import AddModal from '@components/ui/modals/AddModal.astro'
import DetailsOffcanvas from '@components/ui/modals/DetailsOffcanvas.astro'
import EditModal from '@components/ui/modals/EditModal.astro'
---

<DashboardLayout
  title="Cursos"
  currentPage="/courses"
  role="administrador"
  username="Jason"
  customScriptPath="/js/modules/courses/courses.js"
>
  <DataTableCard title="Tabla de cursos" icon="bi-stickies" columnCount={5}>
    <Fragment slot="thead">
      <th scope="col" class="text-start">Código</th>
      <th scope="col" class="text-start">Nombre</th>
      <th scope="col" class="text-start">Nivel</th>
      <th scope="col" class="text-start">Descripción</th>
      <th scope="col" class="text-center">Estado</th>
    </Fragment>
  </DataTableCard>

  <Fragment slot="modals">
    <AddModal title="Agregar un curso">
      <div class="row">
        <!-- Name Field -->
        <div class="col-md-6 mb-3">
          <label for="addName" class="form-label">Nombre <span class="text-danger">*</span></label>
          <input
            type="text"
            class="form-control"
            id="addName"
            name="name"
            placeholder="Ingrese el nombre del curso"
            required
          />
          <div class="invalid-feedback"></div>
        </div>

        <!-- Level Field -->
        <div class="col-md-6 mb-3">
          <label for="addLevel" class="form-label">Nivel <span class="text-danger">*</span></label>
          <select
            class="selectpicker form-control placeholder-color"
            id="addLevel"
            name="level"
            title="Seleccione un nivel"
            required></select>
          <div class="invalid-feedback"></div>
        </div>
      </div>

      <div class="row">
        <!-- Description Field -->
        <div class="col-md-6 mb-3">
          <label for="addDescription" class="form-label">Descripción</label>
          <textarea
            class="form-control"
            id="addDescription"
            name="description"
            rows="4"
            placeholder="Ingrese una breve descripción"></textarea>
        </div>

        <!-- Status Field -->
        <div class="col-md-6 mb-3">
          <label for="addStatus" class="form-label">Estado <span class="text-danger">*</span></label
          >
          <select
            class="selectpicker form-control placeholder-color"
            id="addStatus"
            name="status"
            title="Seleccione un estado"
            required></select>
          <div class="invalid-feedback"></div>
        </div>
      </div>
    </AddModal>

    <DetailsOffcanvas title="Detalles del curso">
      <!-- ID and Name Section -->
      <div class="row">
        <div class="col-md-6 mb-3">
          <h6 class="small text-muted">Código</h6>
          <div class="placeholder-glow">
            <p class="badge bg-body-tertiary text-body-emphasis border d-none" id="detailsID"></p>
            <span
              class="placeholder placeholder-sm col-6 rounded mb-3"
              data-placeholder-for="detailsID"
              style="height: 25px;"></span>
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <h6 class="small text-muted">Nombre</h6>
          <div class="placeholder-glow">
            <p class="fw-bold d-none" id="detailsName"></p>
            <span
              class="placeholder placeholder-sm col-10 rounded mb-3"
              data-placeholder-for="detailsName"
              style="height: 25px;"></span>
          </div>
        </div>
      </div>

      <!-- Level and Status Section -->
      <div class="row">
        <div class="col-md-6 mb-3">
          <h6 class="small text-muted">Nivel</h6>
          <div class="placeholder-glow">
            <p class="fw-bold d-none" id="detailsLevel"></p>
            <span
              class="placeholder placeholder-sm col-8 rounded mb-3"
              data-placeholder-for="detailsLevel"
              style="height: 25px;"></span>
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <h6 class="small text-muted">Estado</h6>
          <div class="placeholder-glow">
            <p class="d-none" id="detailsStatus"></p>
            <span
              class="placeholder placeholder-sm col-6 rounded mb-3"
              data-placeholder-for="detailsStatus"
              style="height: 25px;"></span>
          </div>
        </div>
      </div>

      <!-- Description Section -->
      <div class="row">
        <div class="col-md-12 mb-3">
          <h6 class="small text-muted">Descripción</h6>
          <div class="placeholder-glow">
            <p class="fw-bold d-none" id="detailsDescription"></p>
            <span
              class="placeholder placeholder-sm col-12 rounded mb-3"
              data-placeholder-for="detailsDescription"
              style="height: 60px;"></span>
          </div>
        </div>
      </div>
    </DetailsOffcanvas>

    <EditModal title="Editar curso">
      <!-- Name and Level Section -->
      <div class="row">
        <!-- Name Field -->
        <div class="col-md-6 mb-3">
          <label for="editName" class="form-label">Nombre <span class="text-danger">*</span></label>
          <input
            type="text"
            class="form-control"
            id="editName"
            name="name"
            placeholder="Ingrese el nombre del curso"
            required
          />
          <div class="invalid-feedback"></div>
        </div>

        <!-- Level Field -->
        <div class="col-md-6 mb-3">
          <label for="editLevel" class="form-label">Nivel <span class="text-danger">*</span></label>
          <select class="selectpicker form-control" id="editLevel" name="level" required></select>
          <div class="invalid-feedback"></div>
        </div>
      </div>

      <!-- Description and Status Section -->
      <div class="row">
        <!-- Description Field -->
        <div class="col-md-6 mb-3">
          <label for="editDescription" class="form-label">Descripción</label>
          <textarea
            class="form-control"
            id="editDescription"
            name="description"
            rows="4"
            placeholder="Ingrese una breve descripcion"></textarea>
        </div>

        <!-- Status Field -->
        <div class="col-md-6 mb-3">
          <label for="editStatus" class="form-label"
            >Estado <span class="text-danger">*</span></label
          >
          <select class="selectpicker form-control" id="editStatus" name="status" required></select>
          <div class="invalid-feedback"></div>
        </div>
      </div>
    </EditModal>
  </Fragment>
</DashboardLayout>
