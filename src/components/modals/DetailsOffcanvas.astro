---
const {
  title = 'Detalles',
  extraButton = null, // { label, icon, id, class: 'btn-danger', hidden: true/false }
} = Astro.props
---

<div
  class="offcanvas offcanvas-end flex-column overflow-hidden"
  style="width: 430px;"
  tabindex="-1"
  id="detailsOffcanvas"
  aria-labelledby="detailsOffcanvasLabel"
>
  <div class="offcanvas-header">
    <h5 id="detailsOffcanvasLabel" class="text-body-emphasis mb-0 d-flex align-items-center gap-1">
      <i class="bi bi-info-circle me-1"></i>
      {title}
      <span class="badge bg-body-tertiary text-body-emphasis border ms-1" id="detailsOffcanvasID"
      ></span>
    </h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"
    ></button>
  </div>

  <div class="offcanvas-body border-top p-4 overflow-auto text-break">
    <slot />
  </div>

  <div class="offcanvas-footer border-top d-flex gap-2 p-3 pb-3">
    <button type="button" class="btn btn-custom-secondary w-50" data-bs-dismiss="offcanvas">
      Cerrar
    </button>

    {
      extraButton && (
        <button
          type="button"
          id={extraButton.id}
          class={`btn w-50 ${extraButton.class || 'btn-custom-secondary'} ${extraButton.hidden ? 'd-none' : ''}`}
        >
          {extraButton.icon && <i class={`bi ${extraButton.icon} me-1`} />}
          {extraButton.label}
        </button>
      )
    }

    <button
      type="button"
      id="detailsEditBtn"
      class="btn btn-custom-primary ms-auto w-50"
      data-bs-toggle="modal"
      data-bs-target="#editModal"
    >
      <i class="bi bi-pencil me-1"></i> Editar
    </button>
  </div>
</div>
